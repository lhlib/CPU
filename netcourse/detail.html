<!DOCTYPE html>
<html>

	<head>
		<!--[if lt IE 9]>
    <script type="text/javascript" src="static/js/html5.js"></script>
    <![endif]-->
		<meta charset="utf-8">
		<link rel="icon" href="static/favicon.ico" type="image/x-icon"/>
		<meta name="renderer" content="webkit" /> 
		<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="format-detection" content="telephone=no">
		<title>CPU知识云</title>
		<meta name="keywords" content="音乐,培训课程,体系,【,2020,】,零,基础,入门,">
		<meta name="description" content="很多童鞋觉得名词、冠词、介词代词很简单，但实际应用中，却总是丢分。这些知识琐碎难记。本课程老师通过考点梳理词义辨析、固定搭配用法、名词所有格及熟词生义的讲解，夯实">
		<script type="text/javascript" src="static/js/jquery.min.js"></script>
		<script type="text/javascript" src="static/js/vue_2.5.13.js"></script>
		<script type="text/javascript" src="static/js/jquerysession.js"></script>
		<script type="text/javascript" src="static/js/jquery.params.js"></script>
		<script type="text/javascript" src="static/js/common.js"></script>
		<script type="text/javascript" src="static/js/method.js"></script>
		<link rel="stylesheet" type="text/css" href="static/css/animate.css">
		<link rel="stylesheet" type="text/css" href="static/css/global.css">
		<link rel="stylesheet" type="text/css" href="static/css/style.css">
		<link rel="stylesheet" type="text/css" href="static/css/owl.carousel.min.css">
		<link rel="stylesheet" type="text/css" href="static/css/layer-animate.css">
		<script type="text/javascript" src="static/js/owl.carousel.js"></script>
		<script type="text/javascript" src="static/js/main.js"></script>
	</head>

	<body>
		<div id="all">
			<!-------------------------------------- 头部开始 -------------------------------------->
			<div class="header">
				<div class="head" id="head">
					<div class="wrap"> <span>欢迎访问CPU知识云，联合网络数字图书馆视频知识库！</span>
						<div class="frt">
							<ul>
								<li>
									<a href="popupsignin.html" v-if="!userinfo.nick_name"><span>登录</span></a>
									<a href="#" v-if="userinfo.nick_name" v-text="userinfo.nick_name"><span></span></a>

								</li>
								<li>
									<a href="popupsignin.html?p=1" v-if="!userinfo.nick_name"><span>注册</span></a>
									<a href="coursecenter.html" v-if="userinfo.nick_name"><span>个人中心</span></a>

								</li>
								<li>

									<a href="#" onclick="layout()" v-if="userinfo.nick_name"><span>退出</span></a>

								</li>
							</ul>
						</div>
						<div class="clear"></div>
					</div>
				</div>
				<div class="head2">
					<div class="wrap logoBox">
						<div class="logo flt">
							<a href="index.html"><img style="height: 70px;" src="static/picture/16.png"></a>
						</div>
						<div class="frt tel">
							<h3>cpuzsy@126.com</h3>
							<p style="text-align: center;">24小时在线服务邮箱</p>
						</div>
					</div>
				</div>
				<div class="menu">
					<div class="wrap">
						<ul>
							<li class='on'>
								<a href="index.html">首页
									<label></label>
								</a>
							</li>

							<li>
								<a href="course.html">直击中考·
									<label style="font-size:10px;">学生版</label>
								</a>
							</li>
							<li>
								<a href="courseT.html">直击中考·
									<label style="font-size:10px;">教师版</label>
								</a>
							</li>
							<li>
								<a href="courseZ.html">直击中考·
									<label style="font-size:10px;">试题版</label>
								</a>
							</li>
							<li>
								<a href="news.html">直击中考 ·
									<label style="font-size:10px;">快讯</label>
								</a>
							</li>
						</ul>
					</div>
					<div class="menu_wrap"></div>
					<div class="clear"></div>
				</div>
			</div>

			<!-------------------------------------- 头部结束 -------------------------------------->
			<!-------------------------------------- 内容开始 -------------------------------------->
			<!--class="animated fast" data-animation="fadeInDown"-->
			<div class="mainer">
				<div class="page_list" id="website">
					<div class="page page3">
						<div class="wrap">
							<div class="page_dqwz">
								<p><span>您现在所在位置：</span>
									<a href='index.html'>主页</a> >
									<a href='course.html'>资源中心</a>> </p>
							</div>
							<div class="course_details">
								<div class="img1"> <img style="" :src="item.image"> </div>
								<div class="web">
									<h3 v-text="item.name">课程名称</h3>
									<div class="bq">

										<div class="clear"></div>
									</div>
									<div class="text">
										<p>讲师：{{item.jsname}}</p>
										<p>分类：{{item.yhlx}}/{{item.fjlx}}/{{item.qtlx}}</p>
										<p>时长：{{item.spdurationstr}}</p>
									</div>
									<div class="btn" style="margin-top: 20px;">
										<a @click="getOrderHref(item.id)" v-if="study==1&&item.ifmf==0">购买学习</a>
										<a v-bind:href="item.id|getLoginHref" v-if="study==0">登录学习</a>
										<a v-bind:href="item.id|getAllHref" v-if="study==2||item.ifmf==1&&study!=0">开始学习</a>
										<a v-bind:href="item.id|getAllHref" style="background: transparent;width: 100px;color: #8f979a;border-color: #8f979a;margin-left: 8px;" v-if="study!=2&&item.ifmf!=1||study==0">试看</a>
									</div>

								</div>
								<div class="clear"></div>
							</div>
						</div>
					</div>
					<div class="page page11">
						<div class="wrap">
							<div class="kcgs">
								<div class="tit"> <span>课程介绍</span> </div>
								<div class="web">
									<div class="left_info" id="">
										<div class="info_body">
											<div class="info_p" style="line-height: 30px;" v-html="item.description"></div>
										</div>
										<div class="font_14 c_999">
											<div style="padding-top: 50px;" class="font_16 c_333 font_b"> <span class="col"></span> 课程大纲
											</div>
											<div>
												<div class="mgl10 h46 clearfix" v-for="(items, idx) in spList" :key="idx">
													<a v-bind:href="items.id|getTitleHref">
														<div class="padlr_10 h46 clearfix fl w751 btn">
															<p class="w550 fl font_hidden"><span>{{idx+1}}、</span>
																<span class="mgl10" v-text="items.title">
            課時1
          </span></p>
															<p class="fr">
																<!---->
																<!----><span class="c_blue" v-if="items.ifmf==1">免费</span> <span class="c_red" v-if="items.ifmf==0">收费</span> <span class="c_999 w56 mgl10" style="font-size: 7px;">时长:{{items.spduration}}s</span></p>
														</div>
														<div class="fr h46"></div>
													</a>
												</div>
											</div>
											<!---->
										</div>
									</div>
								</div>
							</div>
							<div class="lsjs">
								<div class="tit">
									<h3><span>专家介绍</span></h3>
								</div>
								<div class="list">
									<ul>
										<li>
											<div class="top">
												<div class="img1">
													<img :src="item.jstx" onerror="photoImg">
												</div>
												<div class="web">
													<h3 v-text="item.jsname">谢老师</h3>
												</div>
												<div class="clear"></div>
											</div>
											<div class="text" v-html="item.jsjs">
												<p>对教师招聘考试和资格证考试均有深入研究，理论功底扎实，授课思路清晰，深受学生欢迎。...</p>
											</div>
										</li>

									</ul>
								</div>
							</div>
							<div class="clear"></div>
						</div>
					</div>
					<div class="page">
						<img src="static/picture/bottomBg.jpg" style="width: 100%;" />
					</div>
				</div>
			</div>
			<!-------------------------------------- 内容结束 -------------------------------------->
			<!-------------------------------------- 尾部开始 -------------------------------------->
			<div class="footer">
				<div class="foot2">
					<p>Copyright &copy;2020 山西图联科技信息有限公司 版权所有 备案号：晋ICP备12002112号-1</p>
				</div>
			</div>
			<!-------------------------------------- 尾部结束 -------------------------------------->
		</div>
		<script>
			var aId;
			$(function() {
				aId = $.getUrlParam('id');
				console.log(aId);
			});
			var userInfo = {};
			userInfo.nike_name = "";
			if($.session.get('user') != undefined) {
				userInfo = JSON.parse($.session.get('user'));
			}
			var ifMFV = "0";
			var vm = new Vue({
				el: '#all',
				data: {
					userinfo: {},
					item: {},
					spList: [],
					study: "",
					photoImg: 'static/image/photo.png'
				},
				created: function() {
					this.getLM();
				},
				methods: {
					getLM: function() {
						//alert($.getUrlParam('id'));
						//如果已经登录
						if(userInfo.nike_name != "") {
							this.userinfo = userInfo;
							this.study = "1";
							//如果已经登录查看该课程是否已经购买
							$.ajax({
								url: requestUrl + '/blade-cms/order/list', //地址
								dataType: 'json', //数据类型
								type: 'get', //类型
								data: {
									courseId: $.getUrlParam('id'),
									userId: userInfo.user_id,
									orderStatus: 1
								},
								timeout: 5000, //超时
								contentType: 'application/json',
								//请求成功
								success: function(data, status) {
									var list = data.data.records;
									if(list.length == 0) {} else {
										vm.study = "2";
									}
								},
								headers: {
									'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0',
									'Blade-Auth': 'bearer ' + userInfo.access_token
								},
								error: function(XMLHttpRequest, textStatus, errorThrown) {
									if(errorThrown == 'Unauthorized') {
										$.session.remove('user');
										this.study = "0";
									}
								}
							})
						} else {
							this.study = "0";

						}
						$.ajax({
							url: requestUrl + '/blade-cms/font/categoryDetail', //地址
							data: {
								id: $.getUrlParam('id')
							},
							dataType: 'json', //数据类型
							type: 'GET', //类型
							timeout: 5000, //超时
							//请求成功
							success: function(data, status) {
								vm.item = data.data;
							},
							headers: {
								'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
							},
							error: function(XMLHttpRequest, textStatus, errorThrown) {
								if(textStatus === 'timeout') {
									console.log("请求超时");
								}
							}
						})
						$.ajax({
							url: requestUrl + '/blade-cms/font/articlePage', //地址
							data: {
								categoryId: $.getUrlParam('id'),
								size: "8"
							},
							dataType: 'json', //数据类型
							type: 'GET', //类型
							timeout: 5000, //超时
							//请求成功
							success: function(data, status) {
								vm.spList = data.data.records;
							},
							headers: {
								'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
							},
							error: function(XMLHttpRequest, textStatus, errorThrown) {
								if(textStatus === 'timeout') {
									console.log("请求超时");
								}
							}
						})

					}
				},
				filters: {
					getOrderHref: function(val) {
						
					/*	alertObject();*/
					},
					getTitleHref: function(val) {
						return 'studydetail.html?id=' + val
					},
					getAllHref: function(val) {
						return 'studydetail.html?cid=' + val
					},
					getLoginHref: function(val) {
		
						return 'popupsignin.html?cid=' + val
					},
				}
			});
			addYDL();
			//记录时间查看人数
			function addYDL() {
				var hashcode = '{"id":\"' + $.getUrlParam('id') + '\"}';
				$.ajax({
					url: requestUrl + '/blade-cms/font/courseAddNum', //地址
					dataType: 'json', //数据类型
					type: 'post', //类型
					data: hashcode,
					timeout: 5000, //超时
					contentType: 'application/json',
					//请求成功
					success: function(data, status) {
						console.log(data);
					},
					headers: {
						'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0',
						'Blade-Auth': 'bearer ' + userInfo.access_token
					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
						if(errorThrown == 'Unauthorized') {
							$.session.remove('user');
							this.study = "0";
						}
					}
				})
			}
			function getOrderHref(val){
				var obj = {
							type: "slideFromTop",
							close: "true",
							title: "购买选择",
							content: "<div>请选择全科购买或者单科购买",
							btn: ["单科购买", "全科购买"],
							callBack1: function() {
								window.location.href ='courseorder.html?cid=' + val;
							},
							callBack2: function() {
								window.location.href = 'courseorder.html?cid=other';
								method.msg_fade(obj)
							}
						};
						method.msg_layer(obj);
			}
		</script>
		<style>
			.left_info {
				padding: 30px;
				background: #fff;
				border-radius: 8px;
				min-height: 400px;
			}
			
			.info_left .info_body {
				margin-bottom: 30px;
			}
			
			.c_999 {
				color: #999;
			}
			
			.font_14 {
				font-size: 14px;
			}
			
			.c_333 {
				color: #333;
			}
			
			.font_16 {
				font-size: 16px;
			}
			
			.font_b {
				font-weight: 650;
			}
			
			.video_title {
				display: inline-block;
			}
			
			.col {
				width: 4px;
				height: 14px;
				background: #333;
			}
			
			.h46 {
				height: 46px;
				line-height: 46px;
			}
			
			.mgl10 {
				margin-left: 10px;
			}
			
			.font_hidden,
			.font_hidden_2 {
				overflow: hidden;
				text-overflow: ellipsis;
			}
			
			.font_hidden {
				white-space: nowrap;
			}
			
			.fl {
				float: left;
			}
			
			.w550 {
				width: 450px;
			}
			
			.fr {
				float: right;
			}
			
			.c_blue {
				color: #107ec4;
			}
			
			.c_red {
				color: #008813;
			}
			
			a:hover {
				cursor: pointer
			}
		</style>
	</body>

</html>