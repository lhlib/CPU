<!DOCTYPE html>
<html>

	<head>
		<!--[if lt IE 9]>
    <script type="text/javascript" src="static/js/html5.js"></script>
    <![endif]-->
		<meta charset="utf-8">
		<link rel="icon" href="static/favicon.ico" type="image/x-icon"/>
		<meta name="renderer" content="webkit" /> 
		<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="format-detection" content="telephone=no">
		<title>CPU知识云</title>
		<meta name="keywords" content="">
		<meta name="description" content="">
		<script type="text/javascript" src="static/js/jquery.min.js"></script>
		<script type="text/javascript" src="static/js/vue_2.5.13.js"></script>
		<script type="text/javascript" src="static/js/jquerysession.js"></script>
		<script type="text/javascript" src="static/js/jquery.params.js"></script>
		<script type="text/javascript" src="static/js/common.js"></script>
		<link rel="stylesheet" type="text/css" href="static/css/animate.css">
		<link rel="stylesheet" type="text/css" href="static/css/global.css">
		<link rel="stylesheet" type="text/css" href="static/css/style.css">
		<link rel="stylesheet" type="text/css" href="static/css/owl.carousel.min.css">
		<script type="text/javascript" src="static/js/owl.carousel.js"></script>
		<script type="text/javascript" src="static/js/main.js"></script>
		<!--		<link href="https://cdn.bootcss.com/video.js/6.3.3/video-js.min.css" rel="stylesheet">
		<link rel="stylesheet" href="static/css/videojs-playlist-ui.css" />
		<script src="https://cdn.bootcss.com/video.js/6.3.3/video.min.js"></script>
		<script src="https://cdn.bootcss.com/videojs-contrib-hls/5.11.0/videojs-contrib-hls.js"></script>
		<script src="static/js/videojs-playlist/videojs-playlist.js"></script>
		<script src="static/js/videojs-flash/videojs-flash.js"></script>
		<script type="text/javascript" src="static/js/videojs-playlist/videojs-playlist-ui.js"></script>
		<script src="static/lang/zh-CN.js"></script>-->
		<script type="text/javascript" src="../ckplayer/ckplayer/ckplayer.js" <style>
			/*暂停时显示播放按钮*/

			.vjs - paused.vjs - big - play - button,
				.vjs - paused.vjs - has - started.vjs - big - play - button {
					display: block;
				}
				/*****START 播放按钮变○圆形 START*****/

				.video - js.vjs - big - play - button {
					font - size: 2.5e m;
					line - height: 2.3e m;
					height: 2.5e m;
					width: 2.5e m; -
					webkit - border - radius: 2.5e m; -
					moz - border - radius: 2.5e m;
					border - radius: 2.5e m;
					background - color: #73859f;
				background-color: rgba(115, 133, 159, .5);
				border-width: 0.15em;
				margin-top: -1.25em;
				margin-left: -1.75em;
			}
			/* 中间的播放箭头 */
			
			.vjs-big-play-button .vjs-icon-placeholder {
				font-size: 1.63em;
			}
			/* 加载圆圈 */
			
			.vjs-loading-spinner {
				font-size: 2.5em;
				width: 2em;
				height: 2em;
				border-radius: 1em;
				margin-top: -1em;
				margin-left: -1.5em;
			}
		</style>
		
		
		<script type= "text/javascript" >
						videojs.options.flash.swf = "js/videojs-flash/video-js.swf"; //flash路径，有一些html播放不了的视频，就需要用到flash播放。这一句话要加在在videojs.js引入之后使用
		</script>
		<script>
			$(function() {

			})
		</script>
	</head>

	<body>
		<!-------------------------------------- 头部开始 -------------------------------------->
		<div class="header">
			<div class="head" id="head">
				<div class="wrap"> <span>欢迎访问CPU知识云，联合网络数字图书馆视频知识库！</span>
					<div class="frt">
						<ul>
							<li>
								<a href="popupsignin.html" v-if="!userinfo.nick_name"><span>登录</span></a>
								<a href="#" v-if="userinfo.nick_name" v-text="userinfo.nick_name"><span></span></a>

							</li>
							<li>
								<a href="popupsignin.html?p=1" v-if="!userinfo.nick_name"><span>注册</span></a>
								<a href="coursecenter.html" v-if="userinfo.nick_name"><span>个人中心</span></a>

							</li>
							<li>

								<a href="#" onclick="layout()" v-if="userinfo.nick_name"><span>退出</span></a>

							</li>
						</ul>
					</div>
					<div class="clear"></div>
				</div>
			</div>
			<div class="head2">
				<div class="wrap logoBox">
					<div class="logo flt">
						<a href="index.html"><img style="height: 70px;" src="static/picture/16.png"></a>
					</div>
					<div class="frt tel">
						<h3>cpuzsy@126.com
</h3>
						<p style="text-align: center;">24小时在线服务邮箱</p>
					</div>
				</div>
			</div>
			<div class="menu">
				<div class="wrap">
					<ul>
						<li class='on'>
							<a href="index.html">首页
								<label></label>
							</a>
						</li>

						<li>
							<a href="course.html">直击中考·
								<label style="font-size:10px;">学生版</label>
							</a>
						</li>
						<li>
							<a href="courseT.html">直击中考·
								<label style="font-size:10px;">教师版</label>
							</a>
						</li>
						<li>
							<a href="courseZ.html">直击中考·
								<label style="font-size:10px;">试题版</label>
							</a>
						</li>
						<li>
							<a href="news.html">直击中考 ·
								<label style="font-size:10px;">快讯</label>
							</a>
						</li>
					</ul>
				</div>
				<div class="menu_wrap"></div>
				<div class="clear"></div>
			</div>
		</div>

		<!-------------------------------------- 头部结束 -------------------------------------->
		<!-------------------------------------- 内容开始 -------------------------------------->
		<!--class="animated fast" data-animation="fadeInDown"-->
		<div class="mainer" id="website">
			<div class="page_list">
				<div class="page page3">
					<div class="wrap">
						<div class="page_dqwz">
							<p><span>您现在所在位置：</span>
								<a href='index.html'>主页</a> >
								<a href='course.html'>资源中心</a>> </p>
						</div>
						<div class="course_details">
							<div class="player-container">
								<div id="video" style="width: 75%;float: left; height: 500px;"></div>
								<div class="vjs-playlist playlist-container vjs-playlist-vertical vjs-csspointerevents vjs-mouse">
									<div style="vertical-align: baseline;padding: 10px 16px 0;font-size: 100%;">
										<h3 style="color: white;font-style: normal;font-size: 16px;font-weight: 400;">课程列表</h3>
									</div>
									<div style="padding: 20px;transition: all .3s;">
										<ol class="" style="width: 250px;">
											<li class="vjs-playlist-ad-overlay" style="line-height: 30px;" v-for="(sp, idx) in spList" :key="idx">
												<a v-bind:href="sp.id|getTitleHref" style="color:white;" v-text="sp.title"> </a>
											</li>
										</ol>
									</div>
								</div>
							</div>

						</div>
					</div>
				</div>
				<div class="page page11">
					<div class="wrap">
						<div class="kcgs">
							<div class="tit"> <span>课程概述</span> </div>
							<div class="web" style="line-height: 30px;" v-html="item.remarks">
								<div class="text" id="maximg">
									<div>
										<img src="static/picture/1-200210145FV12.jpg"></div>
									<p>
										很多童鞋觉得名词、冠词、介词代词很简单，但实际应用中，却总是丢分。这些知识琐碎难记。本课程老师通过考点梳理词义辨析、固定搭配用法、名词所有格及熟词生义的讲解，夯实同学对名词的掌握；通过对冠词考点梳理、基础用法抽象名词具体化及特殊用法的讲解，让同学充分掌握对冠词这类看似简单词类的牢固掌握；介词和代词这两类词类，老师通过具体例题对易混易错知识的讲解，帮助同学系统复习零散的知识。轻松复习，稳拿高分。</p>
								</div>
							</div>
						</div>
						<div class="lsjs">
							<div class="tit">
								<h3><span>老师介绍</span></h3>
							</div>
							<div class="list">
								<ul>
									<li>
										<div class="top">
											<div class="img1"> <img :src="itemC.jstx"> </div>
											<div class="web">
												<h3 v-text="itemC.jsname">谢老师</h3>
												<p></p>
											</div>
											<div class="clear"></div>
										</div>
										<div class="text" v-html="itemC.jsjs">
											<p>对教师招聘考试和资格证考试均有深入研究，理论功底扎实，授课思路清晰，深受学生欢迎。...</p>
										</div>
									</li>

								</ul>
							</div>
						</div>
						<div class="clear"></div>
					</div>
				</div>
				<div class="page">
					<img src="static/picture/bottomBg.jpg" style="width: 100%;" />
				</div>
			</div>
		</div>
		<!-------------------------------------- 内容结束 -------------------------------------->
		<!-------------------------------------- 尾部开始 -------------------------------------->
		<div class="footer">
			<div class="foot2">
				<p>Copyright &copy;2020 山西图联科技信息有限公司 版权所有 备案号：晋ICP备12002112号-1</p>
			</div>
		</div>
		<!-------------------------------------- 尾部结束 -------------------------------------->

		<script>
			var type;
			$('#video video').attr('uc-video-toolbar-id', '');
			var isphone = false;
			var windowwidth;
			$(window).load(function() {
				setTimeout(function() {
					$(".uc-video-toolbar /deep/ .list").remove();
				}, 100);
				type = browserRedirect();
				if(type == "phone") {
					isphone = true;
					$(".vjs-playlist").slideToggle();
					$("#video").css("width", "100%");
					windowwidth = $(window).width(); //当前页面宽度
					windowwidth = ((windowwidth * 0.96) / 16) * 9;
					$("#video").css("height", windowwidth + "px");
				}
				$(".vjs-playlist").click(function() {
					$(".vjs-playlist").slideToggle();
				});
			});

			function browserRedirect() {
				var sUserAgent = navigator.userAgent.toLowerCase();
				var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
				var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
				var bIsMidp = sUserAgent.match(/midp/i) == "midp";
				var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
				var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
				var bIsAndroid = sUserAgent.match(/android/i) == "android";
				var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
				var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
				if(bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
					return "phone";
				} else {
					return "pc";
				}
			}
			var userInfo = {};
			userInfo.nike_name = "";
			if($.session.get('user') != undefined) {
				userInfo = JSON.parse($.session.get('user'));
			}
			/*当前的课程id*/
			var cId = "";
			/*当前的视频id*/
			var vId = "";
			/*免费观看时间*/
			var mfTime = 10;
			/*离开页面前记录观看时间*/
			window.onbeforeunload = function(event) {

				var rtime = getCVideoTime();
				if(userInfo.nike_name != "") {
					/*学习记录开始*/
					var hashcode = '{"courseid":\"' + cId + '\","userid":\"' + userInfo.user_id + '\","recordtime":\"' + rtime + '\","videoid":\"' + vId + '\"}';
					$.ajax({
						url: requestUrl + '/blade-cms/studyrecord/record', //地址
						dataType: 'json', //数据类型
						type: 'post', //类型
						data: hashcode,
						timeout: 5000, //超时
						contentType: 'application/json',
						//请求成功
						success: function(data, status) {
							console.log("记录开始");
						},
						headers: {
							'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0',
							'Blade-Auth': 'bearer ' + userInfo.access_token

						},
						error: function(XMLHttpRequest, textStatus, errorThrown) {
							if(errorThrown == 'Unauthorized') {
								$.session.remove('user');
								alert("登录过期，请重新登录！");
								window.location.href = "popupsignin.html";
							}
						}
					})
					/*学习记录结束*/
				}

			}
			//视频监听与执行getEnd

			function progressUpdate(cid) {
				if(showTime > mfTime) {
					getEnd(cid);
				}
			}

			function getEnd(cid) {
				var _html = '';
				_html += '<div class="payInfo">';
				_html += '<p class="info">试看结束，请购买后观看</p>';
				//_html += '<p class="title">您要购买的视频：《小学三年级语文视频教程》</p>';
				_html += '<p class="pay">单科支付：20元，全套支付：140元</p>';
				_html += '<p class="paybtn">';
				_html += '<a class="btn1" href="courseorder.html?cid=other" target="_blank"><i class="qqLogo"></i>全课购买</a>';
				_html += '<a class="btn2" href="courseorder.html?cid=' + cid + '" target="_blank">单科购买</a></p>';
				
				_html += '</div>';
				$("#video div").replaceWith(_html);
				if(document.exitFullscreen) {
					document.exitFullscreen();
				} else if(document.mozCancelFullScreen) {
					document.mozCancelFullScreen();
				} else if(document.webkitExitFullscreen) {
					document.webkitExitFullscreen();
				}
				if(isphone) {
					$("div.payInfo").css("height", windowwidth + "px");
					$("div.payInfo p.info").css("padding-top", "15%");
					$("div.payInfo p.paybtn a.btn1,div.payInfo p.paybtn a.btn1:link,div.payInfo p.paybtn a.btn1:visited").css("width", "30%");
					$("div.payInfo p.paybtn a.btn2,div.payInfo p.paybtn a.btn2:link,div.payInfo p.paybtn a.btn2:visited").css("width", "30%");

				}
			}
			/*视频播放的时间*/
			function getCVideoTime() {
				var ctime = formatSeconds(showTime);
				return ctime;
			}
			/*var player = videojs('example');*/
			var videoObject;
			var player;

			function loadVideoT(url) {
				/*alert(url);*/
				videoObject = {
					playerID: 'ckplayer01', //播放器ID，第一个字符不能是数字，用来在使用多个播放器时监听到的函数将在所有参数最后添加一个参数用来获取播放器的内容
					container: '#video', //容器的ID或className
					variable: 'player', //播放函数名称
					loaded: 'loadedHandler', //当播放器加载后执行的函数
					loop: false, //播放结束是否循环播放
					autoplay: false, //是否自动播放
					config: '', //指定配置函数
					debug: false, //是否开启调试模式
					//flashplayer: true, //强制使用flashplayer
					mobileCkControls: true, //是否在移动端（包括ios）环境中显示控制栏
					mobileAutoFull: false, //在移动端播放后是否按系统设置的全屏播放
					//live:true,//是否是直播视频，true=直播，false=点播
					//h5container:'#videocontainer',//h5环境中使用自定义播放器ID
					//h5videoid:'videoplayer',//h5环境中使用自定义的播放器ID
					html5m3u8: true, //是否在pc端环境使用hls播放m3u8
					video: url
				};
				player = new ckplayer(videoObject);
			}
			var playerIndex = '0';
			var vm = new Vue({
				el: '#website',
				data: {
					item: {},
					itemC: {},
					spList: [],
				},
				created: function() {
					this.getLM();
				},
				methods: {
					getLM: function() {
						/*如果点击单节课程*/
						if($.getUrlParam('cid') == null && $.getUrlParam('id') != null) {

							vId = $.getUrlParam('id');
							console.log(vId + "-----1");
							$.ajax({
								url: requestUrl + '/blade-cms/font/articleDetail', //地址
								data: {
									id: $.getUrlParam('id')
								},
								dataType: 'json', //数据类型
								type: 'GET', //类型
								timeout: 5000, //超时
								//请求成功
								success: function(data, status) {
									/*console.log(data.data);*/
									vm.item = data.data;
									playerIndex = vm.item.bforder;
									mfTime = parseFloat(vm.item.skduration);
									var ifmfval = "1";
									/*当前课程id赋值*/
									cId = vm.item.categoryId;
									/*if(type != "phone") {
										loadVideoT(vm.item.vediourl);
									} else {
										loadVideoT(vm.item.vediourl1);
									}*/
									/*changeVideo("http://180.76.175.233/videos/test/ghhxt_.m3u8");*/
									$.ajax({
										url: requestUrl + '/blade-cms/font/categoryDetail', //地址
										data: {
											id: cId,
										},
										dataType: 'json', //数据类型
										type: 'GET', //类型
										timeout: 5000, //超时
										//请求成功
										success: function(data, status) {
											//console.log(data);
											vm.itemC = data.data;
											/*如果已经登录*/
											if(userInfo.nike_name != "") {
												//如果已经登录查看该课程是否已经购买
												$.ajax({
													url: requestUrl + '/blade-cms/order/list', //地址
													dataType: 'json', //数据类型
													type: 'get', //类型
													data: {
														courseId: cId,
														userId: userInfo.user_id,
														orderStatus: 1
													},
													timeout: 5000, //超时
													contentType: 'application/json',
													//请求成功
													success: function(data, status) {
														var list = data.data.records;
														console.log(list);
														/*未购买*/
														if(list.length == 0) {
															/*alert("未购买");*/
															if(vm.itemC.ifmf != "1") {
																self.setInterval("progressUpdate(" + vm.itemC.id + ")", 1000);
																loadVideoT(vm.item.vediourl1);
															}else{
																loadVideoT(vm.item.vediourl);
															}
														} else {
															//console.log(vm.study);
															ifmfval = "";
															loadVideoT(vm.item.vediourl);
														}
														$.ajax({
															url: requestUrl + '/blade-cms/font/articlePage', //地址
															data: {
																categoryId: vm.item.categoryId,
																/*																ifmf: ifmfval,*/
																size: "8"
															},
															dataType: 'json', //数据类型
															type: 'GET', //类型
															timeout: 5000, //超时
															//请求成功
															success: function(data, status) {
																vm.spList = data.data.records;
																var list = data.data.records;
															},
															headers: {
																'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
															},
															error: function(XMLHttpRequest, textStatus, errorThrown) {
																if(textStatus === 'timeout') {
																	console.log("请求超时");
																}
																//alert(errorThrown);
															}
														})
													},
													headers: {
														'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0',
														'Blade-Auth': 'bearer ' + userInfo.access_token

													},
													error: function(XMLHttpRequest, textStatus, errorThrown) {
														if(errorThrown == 'Unauthorized') {
															$.session.remove('user');
															alert("登录过期，请重新登录！");
															window.location.href = "popupsignin.html";
														}
													}
												})

											} else {
												self.setInterval("progressUpdate(" + vm.itemC.id + ")", 1000);
												$.ajax({
													url: requestUrl + '/blade-cms/font/articlePage', //地址
													data: {
														categoryId: vm.item.categoryId,
														/*													ifmf: ifmfval,*/
														size: "8"
													},
													dataType: 'json', //数据类型
													type: 'GET', //类型
													timeout: 5000, //超时
													//请求成功
													success: function(data, status) {
														vm.spList = data.data.records;
														var list = data.data.records;
														loadVideoT(vm.item.vediourl1);
													},
													headers: {
														'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
													},
													error: function(XMLHttpRequest, textStatus, errorThrown) {
														if(textStatus === 'timeout') {
															console.log("请求超时");
														}
														//alert(errorThrown);
													}
												})
											}

										},
										headers: {
											'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
										},
										error: function(XMLHttpRequest, textStatus, errorThrown) {
											if(textStatus === 'timeout') {
												console.log("请求超时");
											}
											//alert(errorThrown);
										}
									})

								},
								headers: {
									'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
								},
								error: function(XMLHttpRequest, textStatus, errorThrown) {
									if(textStatus === 'timeout') {
										alert('請求超時');
										setTimeout(function() {
											alert('重新请求');
										}, 5000);
									}
									//alert(errorThrown);
								}
							})
						} else {
							/*alert(1);*/
							var ifmfval = "1";
							cId = $.getUrlParam('cid');

							$.ajax({
								url: requestUrl + '/blade-cms/font/categoryDetail', //地址
								data: {
									id: cId,

								},
								dataType: 'json', //数据类型
								type: 'GET', //类型
								timeout: 5000, //超时
								//请求成功
								success: function(data, status) {
									//console.log(data);
									vm.itemC = data.data;
									//console.log(userInfo.role_name);
									if(userInfo.nike_name != "") {

										//如果已经登录查看该课程是否已经购买
										$.ajax({
											url: requestUrl + '/blade-cms/order/list', //地址
											dataType: 'json', //数据类型
											type: 'get', //类型
											data: {
												courseId: cId,
												userId: userInfo.user_id,
												orderStatus: 1
											},
											timeout: 5000, //超时
											contentType: 'application/json',
											//请求成功
											success: function(data, status) {
												var list = data.data.records;
												var ifgm=0;
												if(list.length == 0) {
													/*alert(1);*/
													if(vm.itemC.ifmf != "1") {
														/*alert(2);*/
														self.setInterval("progressUpdate(" + cId + ")", 1000);
														/*loadVideoT(vm.item.vediourl1);*/
													}else{
														ifgm=1;
													}
												} else {
													//console.log(vm.study);
													ifmfval = "";
													ifgm=1;
													/*loadVideoT(vm.item.vediourl);*/
												}
												$.ajax({
													url: requestUrl + '/blade-cms/font/articlePage', //地址
													data: {
														categoryId: cId,
														/*	ifmf: ifmfval,*/
														size: "8"
													},
													dataType: 'json', //数据类型
													type: 'GET', //类型
													timeout: 5000, //超时
													//请求成功
													success: function(data, status) {
														vm.spList = data.data.records;
														var list = data.data.records;
														console.log(list);
														if(list.length > 0) {
															vm.item = data.data.records[0];
															vId = data.data.records[0].id;
															mfTime = parseFloat(vm.item.skduration);
															/*if(type != "phone") {
																loadVideoT(vm.item.vediourl);
															} else {
																loadVideoT(vm.item.vediourl1);
															}*/
															if(ifgm == 1) {
																loadVideoT(vm.item.vediourl);
															} else {
																loadVideoT(vm.item.vediourl1);
															}
														}
													},
													headers: {
														'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
													},
													error: function(XMLHttpRequest, textStatus, errorThrown) {
														if(textStatus === 'timeout') {
															console.log("请求超时");
														}
													}
												})
											},
											headers: {
												'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0',
												'Blade-Auth': 'bearer ' + userInfo.access_token

											},
											error: function(XMLHttpRequest, textStatus, errorThrown) {
												if(errorThrown == 'Unauthorized') {
													$.session.remove('user');
													alert("登录过期，请重新登录！");
													window.location.href = "popupsignin.html";
												}
											}
										})

									} else {
										self.setInterval("progressUpdate(" + cId + ")", 1000);
										$.ajax({
											url: requestUrl + '/blade-cms/font/articlePage', //地址
											data: {
												categoryId: cId,
												/*												ifmf: ifmfval,*/
												size: "8"
											},
											dataType: 'json', //数据类型
											type: 'GET', //类型
											timeout: 5000, //超时
											//请求成功
											success: function(data, status) {
												vm.spList = data.data.records;

												var list = data.data.records;
												if(list.length > 0) {
													vm.item = data.data.records[0];
													vId = data.data.records[0].id;
													mfTime = parseFloat(vm.item.skduration);
													/*未登录*/
													loadVideoT(vm.item.vediourl1);
												}
											},
											headers: {
												'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
											},
											error: function(XMLHttpRequest, textStatus, errorThrown) {
												if(textStatus === 'timeout') {
													console.log("请求超时");
												}
											}
										})
									}
								},
								headers: {
									'Authorization': 'Basic c2FiZXI6c2FiZXJfc2VjcmV0'
								},
								error: function(XMLHttpRequest, textStatus, errorThrown) {
									if(textStatus === 'timeout') {
										console.log("请求超时");
									}
								}
							})

						}

					}
				},
				filters: {
					getTitleHref: function(val) {
						return 'studydetail.html?id=' + val
					}
				}
			});

			/*	$('#example_html5_api').bind('contextmenu', function() {
					return false;
				});*/
			var vm1 = new Vue({
				el: '#head',
				data: {
					userinfo: {},
					grzx: '',
				},
				created: function() {
					this.getLM();
				},
				methods: {
					getLM: function() {
						this.userinfo = userInfo;
					}
				},
				filters: {
					getTitleHref: function(val) {
						return 'detail.html?id=' + val
					}
				}
			});

			function formatSeconds(value) {   
				var theTime = parseInt(value); // 秒
				var middle = 0; // 分   
				var hour = 0; // 小时				   
				if(theTime > 60) {      
					middle = parseInt(theTime / 60);      
					theTime = parseInt(theTime % 60);      
					if(middle > 60) {         
						hour = parseInt(middle / 60);         
						middle = parseInt(middle % 60);      
					}   
				}   
				var result = "" + parseInt(theTime) + "秒";   
				if(middle > 0) {      
					result = "" + parseInt(middle) + "分" + result;   
				}   
				if(hour > 0) {      
					result = "" + parseInt(hour) + "小时" + result;   
				}   
				return result;
			}

			function loadedHandler() {
				player.addListener('error', errorHandler); //监听视频加载出错
				player.addListener('loadedmetadata', loadedMetaDataHandler); //监听元数据
				player.addListener('duration', durationHandler); //监听播放时间
				player.addListener('time', timeHandler); //监听播放时间
				player.addListener('play', playHandler); //监听暂停播放
				player.addListener('pause', pauseHandler); //监听暂停播放
				player.addListener('buffer', bufferHandler); //监听缓冲状态
				player.addListener('seek', seekHandler); //监听跳转播放完成
				player.addListener('seekTime', seekTimeHandler); //监听跳转播放完成
				player.addListener('volume', volumeChangeHandler); //监听音量改变
				player.addListener('full', fullHandler); //监听全屏/非全屏切换
				player.addListener('ended', endedHandler); //监听播放结束
				player.addListener('screenshot', screenshotHandler); //监听截图功能
				player.addListener('mouse', mouseHandler); //监听鼠标坐标
				player.addListener('frontAd', frontAdHandler); //监听前置广告的动作
				player.addListener('wheel', wheelHandler); //监听视频放大缩小
				player.addListener('controlBar', controlBarHandler); //监听控制栏显示隐藏事件
				player.addListener('clickEvent', clickEventHandler); //监听点击事件
				player.addListener('videoClick', videoClickHandler); //监听播放器单击事件
				player.addListener('definitionChange', definitionChangeHandler); //监听清晰度切换事件
				player.addListener('loadTime', loadTimeHandler); //监听加载速度
			}

			function videoClickHandler(obj, name) {
				console.log(obj, name);
			}

			function errorHandler() {
				//console.log('出错')
				changeText('.playerstate', '状态：视频加载错误，停止执行其它动作，等待其它操作');
			}

			function loadedMetaDataHandler() {
				var metaData = player.getMetaDate();
				var html = ''
				if(parseInt(metaData['videoWidth']) > 0) {
					changeText('.playerstate', '状态：获取到元数据信息，如果数据错误，可以使用延迟获取');
					html += '总时间：' + metaData['duration'] + '秒，';
					html += '音量：' + metaData['volume'] + '（范围0-1），';
					html += '播放器的宽度：' + metaData['width'] + 'px，';
					html += '播放器的高度：' + metaData['height'] + 'px，';
					html += '视频宽度：' + metaData['videoWidth'] + 'px，';
					html += '视频高度：' + metaData['videoHeight'] + 'px，';
					html += '视频原始宽度：' + metaData['streamWidth'] + 'px，';
					html += '视频原始高度：' + metaData['streamHeight'] + 'px，';
					html += '是否暂停状态：' + metaData['paused'] + '，';
					html += '已加载时间：' + metaData['loadTime'] + '秒';
				} else {
					changeText('.playerstate', '状态：未正确获取到元数据信息');
					html = '没有获取到元数据';
				}
				changeText('.metadata', html);
			}

			function playHandler() {
				//player.animateResume();//继续播放所有弹幕
				changeText('.playstate', getHtml('.playstate') + ' 播放');
				window.setTimeout(function() {
					loadedMetaDataHandler();
				}, 1000);
				loadedMetaDataHandler();
			}

			function pauseHandler() {
				//player.animatePause();//暂停所有弹幕
				changeText('.playstate', getHtml('.playstate') + ' 暂停');
				loadedMetaDataHandler();
			}
			var showTime = 0;

			function timeHandler(time) {
				showTime = time;
				changeText('.currenttimestate', '当前播放时间（秒）：' + time);
			}

			function durationHandler(duration) {
				console.log(duration);
				changeText('.duration', '总时间（秒）：' + duration);
			}

			function seekHandler(state) {
				changeText('.seekstate', getHtml('.seekstate') + ' ' + state);
			}

			function seekTimeHandler(time) {
				changeText('.seekstate', getHtml('.seekstate') + ' seekTime:' + time);
			}

			function bufferHandler(buffer) {
				//console.log(buffer);
				changeText('.bufferstate', '缓冲：' + buffer);
			}

			function volumeChangeHandler(vol) {
				changeText('.volumechangestate', '当前音量：' + vol);
			}

			function loadTimeHandler(t) {
				changeText('.loadtime', '当前加载的时间：' + t);
			}

			function screenshotHandler(obj) {
				changeText('.screenshot', '图片名称：' + obj['name'] + ',截图对象：' + obj['object'] + ',是否用户保存：' + obj['save'] + ',图片：<img src="' + obj['base64'] + '">');
			}

			function fullHandler(b) {
				if(b) {
					html = ' 全屏';
				} else {
					html = ' 否';
				}
				changeText('.fullstate', getHtml('.fullstate') + html);

			}

			function endedHandler() {
				console.log('播放结束');
				changeText('.endedstate', '播放结束');
			}

			function mouseHandler(obj) {
				changeText('.mouse', '鼠标位置，x：' + obj['x'] + '，y：' + obj['y']);
			}

			function frontAdHandler(status) {
				changeText('.frontad', getHtml('.frontad') + ' ' + status);
			}
			var zoomNow = 1;

			function wheelHandler(n) {
				if(n > 0) {
					if(zoomNow < 5) {
						zoomNow += 0.1;
					}
				} else {
					if(zoomNow > 0) {
						zoomNow -= 0.1;
					}
				}
				player.videoZoom(zoomNow); //支持鼠标滚轮控制放大缩小
			}

			function controlBarHandler(show) {
				if(show) {
					html = ' 显示';
				} else {
					html = ' 隐藏';
				}
				changeText('.controlBar', getHtml('.controlBar') + html);
			}

			function clickEventHandler(eve) {
				changeText('.clickEvent', getHtml('.clickEvent') + ' ' + eve);
			}

			function definitionChangeHandler(num) {
				changeText('.definitionChange', getHtml('.definitionChange') + ',切换清晰度编号' + num);
			}
			var videoChangeNum = 0;

			function seekTime() {
				var time = parseInt(player.getByElement('.seektime').value);
				var metaData = player.getMetaDate();
				var duration = metaData['duration'];
				if(time < 0) {
					alert('请填写大于0的数字');
					return;
				}
				if(time > duration) {
					alert('请填写小于' + duration + '的数字');
					return;
				}
				player.videoSeek(time);
			}

			function changeVolume() {
				var volume = player.getByElement('.changevolume').value;
				volume = Math.floor(volume * 100) / 100
				if(volume < 0) {
					alert('请填写大于0的数字');
					return;
				}
				if(volume > 1) {
					alert('请填写小于1的数字');
					return;
				}
				player.changeVolume(volume);
			}

			function changeSize() {
				player.changeSize(w, h)
			}

			function frontFun() {
				alert('点击了前一集');
			}

			function nextFun() {
				alert('点击了下一集');
			}

			function adjump() {
				alert('点击了跳过广告按钮');
				//player.videoPlay();
			}

			function newVideo() {
				var videoUrl = player.getByElement('.videourl').value;
				changeVideo(videoUrl);
			}

			function newVideo2() {
				var videoUrl = player.getByElement('.videourl2').value;
				changeVideo(videoUrl);
			}

			function changeVideo(videoUrl) {
				if(player == null) {
					return;
				}

				var newVideoObject = {
					container: '#video', //容器的ID
					variable: 'player',
					autoplay: false, //是否自动播放
					loaded: 'loadedHandler', //当播放器加载后执行的函数
					html5m3u8: true,
					video: videoUrl
				}
				//判断是需要重新加载播放器还是直接换新地址

				if(player.playerType == 'html5video') {
					if(player.getFileExt(videoUrl) == '.flv' || player.getFileExt(videoUrl) == '.m3u8' || player.getFileExt(videoUrl) == '.f4v' || videoUrl.substr(0, 4) == 'rtmp') {
						player.removeChild();

						player = null;
						player = new ckplayer();
						player.embed(newVideoObject);
					} else {
						player.newVideo(newVideoObject);
					}
				} else {
					if(player.getFileExt(videoUrl) == '.mp4' || player.getFileExt(videoUrl) == '.webm' || player.getFileExt(videoUrl) == '.ogg') {
						player = null;
						player = new ckplayer();
						player.embed(newVideoObject);
					} else {
						player.newVideo(newVideoObject);
					}
				}
			}
			var elementTemp = null; //保存元件
			function newElement() {
				if(elementTemp != null) {
					alert('为了演示的简单性，本实例只能建立一个元件');
					return;
				}
				var attribute = {
					list: [ //list=定义元素列表
						{
							type: 'png', //定义元素类型：只有二种类型，image=使用图片，text=文本
							file: '../material/logo.png', //图片地址
							radius: 30, //图片圆角弧度
							width: 30, //定义图片宽，必需要定义
							height: 30, //定义图片高，必需要定义
							alpha: 0.9, //图片透明度(0-1)
							marginLeft: 10, //图片离左边的距离
							marginRight: 10, //图片离右边的距离
							marginTop: 10, //图片离上边的距离
							marginBottom: 10, //图片离下边的距离
							clickEvent: "link->http://www.ckplayer.com"
						}, {
							type: 'text', //说明是文本
							text: '演示弹幕内容，弹幕只支持普通文本，不支持HTML', //文本内容
							color: '0xFFDD00', //文本颜色
							size: 14, //文本字体大小，单位：px
							font: '"Microsoft YaHei", YaHei, "微软雅黑", SimHei,"\5FAE\8F6F\96C5\9ED1", "黑体",Arial', //文本字体
							leading: 30, //文字行距
							alpha: 1, //文本透明度(0-1)
							paddingLeft: 10, //文本内左边距离
							paddingRight: 10, //文本内右边距离
							paddingTop: 0, //文本内上边的距离
							paddingBottom: 0, //文本内下边的距离
							marginLeft: 0, //文本离左边的距离
							marginRight: 10, //文本离右边的距离
							marginTop: 10, //文本离上边的距离
							marginBottom: 0, //文本离下边的距离
							backgroundColor: '0xFF0000', //文本的背景颜色
							backAlpha: 0.5, //文本的背景透明度(0-1)
							backRadius: 30, //文本的背景圆角弧度
							clickEvent: "actionScript->videoPlay"
						}
					],
					x: 10, //元件x轴坐标，注意，如果定义了position就没有必要定义x,y的值了，x,y支持数字和百分比，使用百分比时请使用单引号，比如'50%'
					y: 50, //元件y轴坐标
					//position:[1,1],//位置[x轴对齐方式（0=左，1=中，2=右），y轴对齐方式（0=上，1=中，2=下），x轴偏移量（不填写或null则自动判断，第一个值为0=紧贴左边，1=中间对齐，2=贴合右边），y轴偏移量（不填写或null则自动判断，0=紧贴上方，1=中间对齐，2=紧贴下方）]
					alpha: 1, //元件的透明度
					backgroundColor: '0xFFDD00', //元件的背景色
					backAlpha: 0.5, //元件的背景透明度(0-1)
					backRadius: 60, //元件的背景圆角弧度
					clickEvent: "actionScript->videoPlay"
				}
				elementTemp = player.addElement(attribute);
			}

			function deleteElement() {
				if(elementTemp != null) {
					player.deleteElement(elementTemp);
					elementTemp = null;
				} else {
					alert('演示删除元件需要先添加');
				}
			}

			function newDanmu() {
				//弹幕说明

				var danmuObj = {
					list: [{
						type: 'image', //定义元素类型：只有二种类型，image=使用图片，text=文本
						file: '../material/logo.png', //图片地址
						radius: 30, //图片圆角弧度
						width: 30, //定义图片宽，必需要定义
						height: 30, //定义图片高，必需要定义
						alpha: 0.9, //图片透明度(0-1)
						marginLeft: 10, //图片离左边的距离
						marginRight: 10, //图片离右边的距离
						marginTop: 10, //图片离上边的距离
						marginBottom: 10, //图片离下边的距离
						clickEvent: "link->http://"
					}, {
						type: 'text', //说明是文本
						text: '演示弹幕内容，弹幕只支持普通文本，不支持HTML', //文本内容
						color: '0xFFDD00', //文本颜色
						size: 14, //文本字体大小，单位：px
						font: '"Microsoft YaHei", YaHei, "微软雅黑", SimHei,"\5FAE\8F6F\96C5\9ED1", "黑体",Arial', //文本字体
						leading: 30, //文字行距
						alpha: 1, //文本透明度(0-1)
						paddingLeft: 10, //文本内左边距离
						paddingRight: 10, //文本内右边距离
						paddingTop: 0, //文本内上边的距离
						paddingBottom: 0, //文本内下边的距离
						marginLeft: 0, //文本离左边的距离
						marginRight: 10, //文本离右边的距离
						marginTop: 10, //文本离上边的距离
						marginBottom: 0, //文本离下边的距离
						backgroundColor: '0xFF0000', //文本的背景颜色
						backAlpha: 0.5, //文本的背景透明度(0-1)
						backRadius: 30, //文本的背景圆角弧度
						clickEvent: "actionScript->videoPlay"
					}],
					x: '100%', //x轴坐标
					y: "50%", //y轴坐标
					//position:[2,1,0],//位置[x轴对齐方式（0=左，1=中，2=右），y轴对齐方式（0=上，1=中，2=下），x轴偏移量（不填写或null则自动判断，第一个值为0=紧贴左边，1=中间对齐，2=贴合右边），y轴偏移量（不填写或null则自动判断，0=紧贴上方，1=中间对齐，2=紧贴下方）]
					alpha: 1,
					//backgroundColor:'#FFFFFF',
					backAlpha: 0.8,
					backRadius: 30 //背景圆角弧度
				}
				var danmu = player.addElement(danmuObj);
				var danmuS = player.getElement(danmu);
				var obj = {
					element: danmu,
					parameter: 'x',
					static: true, //是否禁止其它属性，true=是，即当x(y)(alpha)变化时，y(x)(x,y)在播放器尺寸变化时不允许变化
					effect: 'None.easeOut',
					start: null,
					end: -danmuS['width'],
					speed: 10,
					overStop: true,
					pauseStop: true,
					callBack: 'deleteChild'
				};
				var danmuAnimate = player.animate(obj);
			}

			function deleteChild(ele) {
				if(player) {
					//console.log(player.getElement(ele));
					player.deleteElement(ele);
				}
			}

			function changeText(div, text) {
				player.getByElement(div).innerHTML = text;
			}

			function getHtml(div) {
				return player.getByElement(div).innerHTML;
			}
			var zoom = 1;
			var xx = 'http://vipcdnuni.115.com/down_group524/M00/3E/54/tzyQrVI3s4UAAAAASulj6wyrhGs2247183/%E9%AB%98%E4%B8%AD%E7%94%9F1.mp4?k=IlwmhD3zBzlgVCXh4v-kbw&t=1516692317&u=vip-1742903537-30652602-b6s6y7v7yv8238wyu&s=13107200&file=%E9%AB%98%E4%B8%AD%E7%94%9F1.mp4';
			var xx2 = 'http://vipcdnuni.115.com/down_group524/M00/3E/54/tzyQrVI3s4UAAAAASulj6wyrhGs2247183/%E9%AB%98%E4%B8%AD%E7%94%9F1.mp4?k=IlwmhD3zBzlgVCXh4v-kbw&t=1516692317&u=vip-1742903537-30652602-b6s6y7v7yv8238wyu&s=13107200&file=%E9%AB%98%E4%B8%AD%E7%94%9F1.mp4';
			var arr1 = xx.split('');
			var arr2 = xx2.split('');
			for(var m = 0; m < arr1.length; m++) {
				//console.log(arr1[m],arr2[m]);
				if(arr1[m] != arr2[m]) {
					alert(m);
				}
			}
		</script>
		<style>
			.player-container {
				background: #1a1a1a;
				overflow: auto;
			}
			
			.video-js {
				float: left;
				width: 80% !important;
				height: 500px;
			}
			
			.vjs-playlist {
				float: left;
				width: 15%;
				height: 500px;
			}
			
			.vjs-playlist-item {
				border: 1px solid #FFFFFF;
			}
			
			.vjs-playlist .vjs-selected {
				border: 1px solid #00FF00;
			}
			
			.vjs-playlist .vjs-selected img {
				opacity: .5;
			}
		</style>
		<style type="text/css">
			/*PC端宽高设定*/
			
			#CuPlayer div.CuPc {
				width: 100%;
				height: 450px;
				margin: 0 auto;
			}
			/*移动端宽高设定*/
			
			#CuPlayer div.CuMob {
				width: 100%;
				height: 300px;
				margin: 0 auto;
				position: relative;
			}
			
			#CuPlayer div.CuPad {
				width: 100%;
				height: 450px;
				margin: 0 auto;
			}
			
			#CuPlayer .video-js {
				width: 100%;
				height: 100%;
			}
			/*移动端设定*/
			
			video::-webkit-media-controls-enclosure {
				display: none !important;
			}
			/*预览结束窗口*/
			
			div.payInfo {
				width: 100%;
				height: 100%;
				background: #252625;
				font-family: "Microsoft YaHei", "微软雅黑", "Microsoft JhengHei", MingLiu, Verdana, Arial, Helvetica, sans-serif;
			}
			
			div.payInfo {
				-moz-user-select: none;
				-webkit-user-select: none;
				-ms-user-select: none;
				-khtml-user-select: none;
				user-select: none;
			}
			
			div.payInfo p {
				padding: 0;
				margin: 0;
			}
			
			div.payInfo p.info {
				color: #CCC;
				font-size: 24px;
				text-indent: 0.5em;
				display: block;
				text-align: center;
				padding-top: 110px;
			}
			
			div.CuMob div.payInfo p.info {
				color: #CCC;
				font-size: 24px;
				text-indent: 0.5em;
				display: block;
				text-align: center;
				padding-top: 50px;
			}
			
			div.payInfo p.title {
				display: block;
				font-size: 16px;
				padding: 15px 0px 0px;
				color: #C2C1C1;
				text-align: center;
			}
			
			div.payInfo p.pay {
				color: #f39800;
				display: block;
				font-size: 18px;
				padding: 5px 0px 0px;
				text-align: center;
			}
			
			div.payInfo p.paybtn {
				text-align: center;
				padding-top: 20px;
			}
			
			div.payInfo p.paybtn a,
			div.payInfo p.paybtn a:link,
			div.payInfo p.paybtn a:visited {
				background-color: #327b10;
				border: 1px solid #235c09;
				border-radius: 5px;
				color: #FFF;
				cursor: pointer;
				display: inline-block;
				font-size: 18px;
				height: 48px;
				line-height: 48px;
				width: 170px;
			}
			
			div.payInfo p.paybtn a.btn1,
			div.payInfo p.paybtn a.btn1:link,
			div.payInfo p.paybtn a.btn1:visited {
				background-color: #0063E6;
				border: 1px solid #235c09;
				border-radius: 5px;
				color: #FFF;
				cursor: pointer;
				display: inline-block;
				font-size: 18px;
				height: 48px;
				line-height: 48px;
				width: 170px;
			}
			
			div.payInfo p.paybtn a.btn2,
			div.payInfo p.paybtn a.btn2:link,
			div.payInfo p.paybtn a.btn2:visited {
				background-color: transparent;
				border: 1px solid #666;
				color: #999;
				height: 48px;
				margin-left: 20px;
				width: 170px;
				text-decoration: none;
			}
		</style>
	</body>

</html>